/*	
 *	jQuery Touch Optimized Sliders "R"Us
 *	Drag addon
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 */
!function(e){if(e.fn.hammer){var t,s,r,n,i,a="tosrus",o="drag",d=!1;e[a].prototype["_addon_"+o]=function(){d||(t=e[a]._c,s=e[a]._d,r=e[a]._e,n=e[a]._f,i=e[a]._g,r.add("dragstart dragend dragleft dragright swipeleft swiperight"),d=!0);var l=this;if(this.opts[o]&&"slide"==this.opts.effect&&this.nodes.$slides.length>1){var f=0,g=!1,u=!1;this.nodes.$wrpr.hammer().on(r.dragstart,function(e){e.stopPropagation(),e.gesture&&(e.gesture.preventDefault(),l.nodes.$sldr.addClass(t.noanimation))}).on(r.dragleft+" "+r.dragright,function(e){e.stopPropagation(),e.gesture&&(e.gesture.preventDefault(),f=e.gesture.deltaX,g=e.gesture.direction,u=!1,("left"==g&&l.slides.index+l.slides.visible>=l.slides.total||"right"==g&&0==l.slides.index)&&(f/=2.5),l.nodes.$sldr.css("margin-left",Math.round(f)))}).on(r.swipeleft+" "+r.swiperight,function(e){e.stopPropagation(),e.gesture&&(e.gesture.preventDefault(),u=!0)}).on(r.dragend,function(e){if(e.stopPropagation(),e.gesture){if(e.gesture.preventDefault(),l.nodes.$sldr.removeClass(t.noanimation).addClass(t.fastanimation),n.transitionend(l.nodes.$sldr,function(){l.nodes.$sldr.removeClass(t.fastanimation)},l.conf.transitionDuration/2),l.nodes.$sldr.css("margin-left",0),"left"==g||"right"==g){if(u)var s=l.slides.visible;else var i=l.nodes.$slides.first().width(),s=Math.floor((Math.abs(f)+i/2)/i);s>0&&l.nodes.$wrpr.trigger(r["left"==g?"next":"prev"],[s])}g=!1}})}},e[a].defaults[o]=e[a].support.touch,e[a].addons.push(o)}}(jQuery);